[priority][difficulty]
*=in progress
✓=done

[big things]
	Add other platforms
		grabbing links raw (with wget or smthing)
			this might work natively

10	first, fix replace_thumbnail() for playlists (doesnt work for albums / doesnt replace). then make sure it works for albums
		next, have it be called in download() in main
		
	in download_audio, could do elif album or playlist, do init stuff, then seperate for each of them?
10	/replacethumbnail: works when title=turbo, but not when title=turbo and album=turbo

10	allow musicolet timestamp formatting for replace timestamps

10	replace_thumbnail_command(): make title fill in for album if releasetype=album. 
		maybe only have title?
		maybe rename releasetype to type?
	
	check todo in replacethumbnail about title != title metadata
	
make a help function
exclude track nums code	
make exclude keyword code (so i can exclude stuff like "feat ___")
make thumbnail_error like success_list
getting metadata for playlists should also be threaded
already exists confirmation should come before manually searching for metadata
make sure download() and replace_thumbnail() can accept just an album

[features]
2,3	add more arguments
		date, year
		add in a force: so if force is true then it uses inputted args exactly

	commands:
3,3		command to add/replace artists, tags, and title

	add ability to download playlists into albums
		combine playlists into one file and timestamp each video
		
1,2	When confirming download, have a loading gif or something

1,2	make an argument for download to default confirmations timeouts to true
		so itll still send confirmations, but when they timeout itll be true instead of false

2,3	for replacement commands, add functionality to replace for an entire *split* album.
		so if each track is a different file, either look in the sub dir (album/track.m4a), or look at the metadata for songs with that album name
	
5,3	ability to rename and modify tracks inside of playlists
		just do a parameter playlist. then if one is provided make the song dir "base/playlist/song"
		for existing entire playlist handling, make comment say "for modifying entire playlist" and "for singles inside playlists" for other param

3,3	ability to download youtube videos as well
		shouldnt be too hard, i can just ignore metadata and run the command raw
		need extra configs (for directory)

5,3	timestamps metadata from database
		get timestamps (titles, or titles and times) from database
		ability to replace only the timestamp titles (keep times the same)

*45	implement usedatabase
		should do usedatabase cover,tracktimes,tracknames
			instead of true/false
		cover, timestamps, timestamp names

3,2	be able to cancel "⏳ Please send thumbnail (text or image attachment):"

5,2	ability to exclude videos from playlists and album_playlist
		check yt-dlp docs
		make sure you can pass x,y and x-y
		-I, --playlist-items ITEM_SPEC
			check docs for formatting: https://github.com/yt-dlp/yt-dlp?tab=readme-ov-file#video-selection

*✓	replace playlist covers code should be a separate function so replace_thumbnail can use it
		implement this too, use type variable

4,3	replace timestamps should send the current timstamps to the user

3,3	ability for commands to parse all valid audio types.
		maybe make a list in config.json, then replace all checking code with a for loop for each type in that list
		probably make a function in file_handling.py for this

4,2	add a bool config for auto correct for artists

5,5 make messages more clean. 
	auto delete some of them (or only send to user)
	update messages as things are happing (like when it finishes downloading and starts replacing thumbnails

[improvements]
2	bot message improvements
		make bot cleanup its confirmation boxes
	✓	add emojis for success/fail to make it more readable
		make more specific errors
			Timeout error
		react to timestamp message if it processes correctly
		polish messages
			some messages are client only, some get sent. this should be universal
		include some sort of id with EVERY message for multi downloading
			probably just use yt link
		let user know when its downloading
		Send timestamps text file as a codeblock instead of a file upload
3	apply_manual_timestamps_to_file
		make this bidirectional, so [title][time] could also be valid
		better errors, so invalid will actually get flagged
		could have error checking in ask_for_timestamps() instead
			if i do this, then add comment in apply_manual_timestamps_to_file() that it expects a specific format
1	make musicolet file optional in config.json
2	make json lists separated by new line

3	download should say what was successful (metdata, timestamps, etc)
*5	database handling for download() should take place in that command, NOT in download_audio()

	add multithreading
		result = asyncio.create_task(func)
		...
		await result
		can also do x,y,z = await result if result is a tuple

5	if title is too long, foldersync breaks. so limit title lenght
		probably just truncate it

4	example config in readme

[bugs]
2	type=album_playlist should put playlist link in comments

5	album_playlist cannot handle exception for single track being entered
		/download link:https://youtu.be/LOxmj8QiIWA?si=erV6pJrUP2xq5BuW type:album title:Painkiller artist:Judas Preist album:Painkiller usedatabase:cover
		this cannot handle singles. need to add an exception
5	type=song doesnt get cover if its an album. should check if album title was supplied and handle accordingly

3	date/time is getting reset when running replace_thumbnail (and probably replace_timestamps too)
		seems like metadata is fine, so probably can ignore this
1	tags from database or from link itself arent saved to tags.json
		could probably just remove tags.json
3	folder name of playlists doesnt default to album name when title is missing, but the name of the first song

4	if link is a playlist, type should default to album

4,2	replace_thumbnail makes bot lose connection. (only in console)


[notes]
	from mutagen.m4a import M4ATags
		https://chat.deepseek.com/a/chat/s/55c9d945-bdd9-403c-8766-e5c585b3b681

	
✓	set up defaults properly (default author is channel uploader, default title is video title, etc)
		need to do date still
	



[Archive]

	[features]
	✓	for list music, list subdirectories as well (maybe run tree but exclude .txt files?)
		commands:
	✓		make a command to list artists
	✓		command to list tags
	✓		generate timestamps for an already downloaded song
	
	✓	add argument for song/playlist (default song)
	✓		when playlist, it should have the option to put everything into a subfolder for that album
	
	✓	ability to pull details from a database
	✓		including thumbnail

	[improvements]
	✓	find a way to make the starting portion of replace commands be in one spot for the class
	✓	make list dir line a function, and make it exclude .txt (multiple instances of it in main)
	✓		dont forget about the replace timestamps list files on fail thing

	✓	compress thumbnails from database!!!!
	✓		add a parameter for this
	✓		maybe theres a way to request specific sizes?
	✓			like request 1200x1200
		make a temp directory? so temp files should be stored in temp/{}


	[bugs]
	✓	handle this error: (happens when providing a bad link)
			ERROR: [generic] 'a' is not a valid URL. Set --default-search "ytsearch" (or run  yt-dlp "ytsearch:a" ) to search YouTube
			Error: Failed to fetch video info.
			Stderr:
			ERROR: [generic] 'a' is not a valid URL. Set --default-search "ytsearch" (or run  yt-dlp "ytsearch:a" ) to search YouTube
			Artist 'Unknown' is new. Add it to the known list?


✓	add a confirm to add new artists if it doesnt exist, so seperate message
✓	maybe code to check if there are similar names?
✓	store artists in a list?
✓	handle moving the file to the proper directory

✓	argument to manually add timestamps, support same format as yt description: hr:min:sec "title"

every time yt-dlp is ran, run below:
✓	./yt-dlp -U # update

✓add tags
✓	store tags
✓timestamps
✓	need a way to parse yt description
✓	[min:sec.mili]{chaptername}
✓	[songname].txt
✓	add timestamps manually if not found
✓	need to have a confirmation too
✓	add a way to get timestamps

✓add descriptions to arguments
✓make file names all lowercase
✓make confirmations refer to the music file
✓check if song already exists

✓	[BUG] when adding custom timestamps, all other metadata is wiped

✓	if timestamps bool is false, it should skip asking. should default store as NONE
